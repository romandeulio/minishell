#!/bin/bash

MINISHELL=./minishell
VALGRIND="valgrind --leak-check=full --show-leak-kinds=all --suppressions=filter"

tests=(
    "[TEST 001] cd /"
    "[TEST 002] cd .."
    "[TEST 003] pwd"
    "[TEST 004] echo test"
    "[TEST 005] echo 'test'"
    "[TEST 006] exit"
    "[TEST 007] env"
    "[TEST 008] echo """
    "[TEST 009] echo "     ""
    "[TEST 010] echo ' '"
    "[TEST 011] echo"
    "[TEST 012] echo "$$""
    "[TEST 013] echo Hello > out.txt"
    "[TEST 014] cat < out.txt"
    "[TEST 015] echo test > /dev/null"
    "[TEST 016] ls > out.txt 2>&1"
    "[TEST 017] echo test | cat > out2.txt"
    "[TEST 018] echo $(yes A | head -n 100 | tr "\n" " ")"
    "[TEST 019] export PATH=$PATH:/tmp"
    "[TEST 020] export HOME=/root"
    "[TEST 021] echo $HOME"
    "[TEST 022] sleep 0.1"
    "[TEST 023] /bin/echo OK"
    "[TEST 024] /usr/bin/env"
    "[TEST 025] /bin/ls | /usr/bin/wc"
    "[TEST 026] notfound"
    "[TEST 027] ls /doesnotexist"
    "[TEST 028] export VAR28=VAL28"
    "[TEST 029] echo $VAR28"
    "[TEST 030] unset VAR28"
    "[TEST 031] echo $(echo 28)"
    "[TEST 032] echo $(( 28+28 ))"
    "[TEST 033] yes | head -n 1 | cat | grep y"
    "[TEST 034] echo 'weird ;;; && || && () $'"
    "[TEST 035] export VAR29=VAL29"
    "[TEST 036] echo $VAR29"
    "[TEST 037] unset VAR29"
    "[TEST 038] echo $(echo 29)"
    "[TEST 039] echo $(( 29+29 ))"
    "[TEST 040] yes | head -n 1 | cat | grep y"
    "[TEST 041] echo 'weird ;;; && || && () $'"
    "[TEST 042] export VAR30=VAL30"
    "[TEST 043] echo $VAR30"
    "[TEST 044] unset VAR30"
    "[TEST 045] echo $(echo 30)"
    "[TEST 046] echo $(( 30+30 ))"
    "[TEST 047] yes | head -n 1 | cat | grep y"
    "[TEST 048] echo 'weird ;;; && || && () $'"
    "[TEST 049] export VAR31=VAL31"
    "[TEST 050] echo $VAR31"
    "[TEST 051] unset VAR31"
    "[TEST 052] echo $(echo 31)"
    "[TEST 053] echo $(( 31+31 ))"
    "[TEST 054] yes | head -n 1 | cat | grep y"
    "[TEST 055] echo 'weird ;;; && || && () $'"
    "[TEST 056] export VAR32=VAL32"
    "[TEST 057] echo $VAR32"
    "[TEST 058] unset VAR32"
    "[TEST 059] echo $(echo 32)"
    "[TEST 060] echo $(( 32+32 ))"
    "[TEST 061] yes | head -n 1 | cat | grep y"
    "[TEST 062] echo 'weird ;;; && || && () $'"
    "[TEST 063] export VAR33=VAL33"
    "[TEST 064] echo $VAR33"
    "[TEST 065] unset VAR33"
    "[TEST 066] echo $(echo 33)"
    "[TEST 067] echo $(( 33+33 ))"
    "[TEST 068] yes | head -n 1 | cat | grep y"
    "[TEST 069] echo 'weird ;;; && || && () $'"
    "[TEST 070] export VAR34=VAL34"
    "[TEST 071] echo $VAR34"
    "[TEST 072] unset VAR34"
    "[TEST 073] echo $(echo 34)"
    "[TEST 074] echo $(( 34+34 ))"
    "[TEST 075] yes | head -n 1 | cat | grep y"
    "[TEST 076] echo 'weird ;;; && || && () $'"
    "[TEST 077] export VAR35=VAL35"
    "[TEST 078] echo $VAR35"
    "[TEST 079] unset VAR35"
    "[TEST 080] echo $(echo 35)"
    "[TEST 081] echo $(( 35+35 ))"
    "[TEST 082] yes | head -n 1 | cat | grep y"
    "[TEST 083] echo 'weird ;;; && || && () $'"
    "[TEST 084] export VAR36=VAL36"
    "[TEST 085] echo $VAR36"
    "[TEST 086] unset VAR36"
    "[TEST 087] echo $(echo 36)"
    "[TEST 088] echo $(( 36+36 ))"
    "[TEST 089] yes | head -n 1 | cat | grep y"
    "[TEST 090] echo 'weird ;;; && || && () $'"
    "[TEST 091] export VAR37=VAL37"
    "[TEST 092] echo $VAR37"
    "[TEST 093] unset VAR37"
    "[TEST 094] echo $(echo 37)"
    "[TEST 095] echo $(( 37+37 ))"
    "[TEST 096] yes | head -n 1 | cat | grep y"
    "[TEST 097] echo 'weird ;;; && || && () $'"
    "[TEST 098] export VAR38=VAL38"
    "[TEST 099] echo $VAR38"
    "[TEST 100] unset VAR38"
    "[TEST 101] echo $(echo 38)"
    "[TEST 102] echo $(( 38+38 ))"
    "[TEST 103] yes | head -n 1 | cat | grep y"
    "[TEST 104] echo 'weird ;;; && || && () $'"
    "[TEST 105] export VAR39=VAL39"
    "[TEST 106] echo $VAR39"
    "[TEST 107] unset VAR39"
    "[TEST 108] echo $(echo 39)"
    "[TEST 109] echo $(( 39+39 ))"
    "[TEST 110] yes | head -n 1 | cat | grep y"
    "[TEST 111] echo 'weird ;;; && || && () $'"
    "[TEST 112] export VAR40=VAL40"
    "[TEST 113] echo $VAR40"
    "[TEST 114] unset VAR40"
    "[TEST 115] echo $(echo 40)"
    "[TEST 116] echo $(( 40+40 ))"
    "[TEST 117] yes | head -n 1 | cat | grep y"
    "[TEST 118] echo 'weird ;;; && || && () $'"
    "[TEST 119] export VAR41=VAL41"
    "[TEST 120] echo $VAR41"
    "[TEST 121] unset VAR41"
    "[TEST 122] echo $(echo 41)"
    "[TEST 123] echo $(( 41+41 ))"
    "[TEST 124] yes | head -n 1 | cat | grep y"
    "[TEST 125] echo 'weird ;;; && || && () $'"
    "[TEST 126] export VAR42=VAL42"
    "[TEST 127] echo $VAR42"
    "[TEST 128] unset VAR42"
    "[TEST 129] echo $(echo 42)"
    "[TEST 130] echo $(( 42+42 ))"
    "[TEST 131] yes | head -n 1 | cat | grep y"
    "[TEST 132] echo 'weird ;;; && || && () $'"
    "[TEST 133] export VAR43=VAL43"
    "[TEST 134] echo $VAR43"
    "[TEST 135] unset VAR43"
    "[TEST 136] echo $(echo 43)"
    "[TEST 137] echo $(( 43+43 ))"
    "[TEST 138] yes | head -n 1 | cat | grep y"
    "[TEST 139] echo 'weird ;;; && || && () $'"
    "[TEST 140] export VAR44=VAL44"
    "[TEST 141] echo $VAR44"
    "[TEST 142] unset VAR44"
    "[TEST 143] echo $(echo 44)"
    "[TEST 144] echo $(( 44+44 ))"
    "[TEST 145] yes | head -n 1 | cat | grep y"
    "[TEST 146] echo 'weird ;;; && || && () $'"
    "[TEST 147] export VAR45=VAL45"
    "[TEST 148] echo $VAR45"
    "[TEST 149] unset VAR45"
    "[TEST 150] echo $(echo 45)"
    "[TEST 151] echo $(( 45+45 ))"
    "[TEST 152] yes | head -n 1 | cat | grep y"
    "[TEST 153] echo 'weird ;;; && || && () $'"
    "[TEST 154] export VAR46=VAL46"
    "[TEST 155] echo $VAR46"
    "[TEST 156] unset VAR46"
    "[TEST 157] echo $(echo 46)"
    "[TEST 158] echo $(( 46+46 ))"
    "[TEST 159] yes | head -n 1 | cat | grep y"
    "[TEST 160] echo 'weird ;;; && || && () $'"
    "[TEST 161] export VAR47=VAL47"
    "[TEST 162] echo $VAR47"
    "[TEST 163] unset VAR47"
    "[TEST 164] echo $(echo 47)"
    "[TEST 165] echo $(( 47+47 ))"
    "[TEST 166] yes | head -n 1 | cat | grep y"
    "[TEST 167] echo 'weird ;;; && || && () $'"
    "[TEST 168] export VAR48=VAL48"
    "[TEST 169] echo $VAR48"
    "[TEST 170] unset VAR48"
    "[TEST 171] echo $(echo 48)"
    "[TEST 172] echo $(( 48+48 ))"
    "[TEST 173] yes | head -n 1 | cat | grep y"
    "[TEST 174] echo 'weird ;;; && || && () $'"
    "[TEST 175] export VAR49=VAL49"
    "[TEST 176] echo $VAR49"
    "[TEST 177] unset VAR49"
    "[TEST 178] echo $(echo 49)"
    "[TEST 179] echo $(( 49+49 ))"
    "[TEST 180] yes | head -n 1 | cat | grep y"
    "[TEST 181] echo 'weird ;;; && || && () $'"
    "[TEST 182] export VAR50=VAL50"
    "[TEST 183] echo $VAR50"
    "[TEST 184] unset VAR50"
    "[TEST 185] echo $(echo 50)"
    "[TEST 186] echo $(( 50+50 ))"
    "[TEST 187] yes | head -n 1 | cat | grep y"
    "[TEST 188] echo 'weird ;;; && || && () $'"
    "[TEST 189] export VAR51=VAL51"
    "[TEST 190] echo $VAR51"
    "[TEST 191] unset VAR51"
    "[TEST 192] echo $(echo 51)"
    "[TEST 193] echo $(( 51+51 ))"
    "[TEST 194] yes | head -n 1 | cat | grep y"
    "[TEST 195] echo 'weird ;;; && || && () $'"
    "[TEST 196] export VAR52=VAL52"
    "[TEST 197] echo $VAR52"
    "[TEST 198] unset VAR52"
    "[TEST 199] echo $(echo 52)"
    "[TEST 200] echo $(( 52+52 ))"
    "[TEST 201] yes | head -n 1 | cat | grep y"
    "[TEST 202] echo 'weird ;;; && || && () $'"
    "[TEST 203] export VAR53=VAL53"
    "[TEST 204] echo $VAR53"
    "[TEST 205] unset VAR53"
    "[TEST 206] echo $(echo 53)"
    "[TEST 207] echo $(( 53+53 ))"
    "[TEST 208] yes | head -n 1 | cat | grep y"
    "[TEST 209] echo 'weird ;;; && || && () $'"
    "[TEST 210] export VAR54=VAL54"
    "[TEST 211] echo $VAR54"
    "[TEST 212] unset VAR54"
    "[TEST 213] echo $(echo 54)"
    "[TEST 214] echo $(( 54+54 ))"
    "[TEST 215] yes | head -n 1 | cat | grep y"
    "[TEST 216] echo 'weird ;;; && || && () $'"
    "[TEST 217] export VAR55=VAL55"
    "[TEST 218] echo $VAR55"
    "[TEST 022] sleep 0.1"
    "[TEST 242] echo $(( 58+58 ))"
    "[TEST 243] yes | head -n 1 | cat | grep y"
    "[TEST 244] echo 'weird ;;; && || && () $'"
    "[TEST 245] export VAR59=VAL59"
    "[TEST 246] echo $VAR59"
    "[TEST 247] unset VAR59"
    "[TEST 248] echo $(echo 59)"
    "[TEST 249] echo $(( 59+59 ))"
    "[TEST 250] yes | head -n 1 | cat | grep y"
    "[TEST 251] echo 'weird ;;; && || && () $'"
    "[TEST 252] export VAR60=VAL60"
    "[TEST 253] echo $VAR60"
    "[TEST 254] unset VAR60"
    "[TEST 255] echo $(echo 60)"
    "[TEST 256] echo $(( 60+60 ))"
    "[TEST 257] yes | head -n 1 | cat | grep y"
    "[TEST 258] echo 'weird ;;; && || && () $'"
    "[TEST 259] export VAR61=VAL61"
    "[TEST 260] echo $VAR61"
    "[TEST 261] unset VAR61"
    "[TEST 262] echo $(echo 61)"
    "[TEST 263] echo $(( 61+61 ))"
    "[TEST 264] yes | head -n 1 | cat | grep y"
    "[TEST 265] echo 'weird ;;; && || && () $'"
    "[TEST 266] export VAR62=VAL62"
    "[TEST 267] echo $VAR62"
    "[TEST 268] unset VAR62"
    "[TEST 269] echo $(echo 62)"
    "[TEST 270] echo $(( 62+62 ))"
    "[TEST 271] yes | head -n 1 | cat | grep y"
    "[TEST 272] echo 'weird ;;; && || && () $'"
    "[TEST 273] export VAR63=VAL63"
    "[TEST 274] echo $VAR63"
    "[TEST 275] unset VAR63"
    "[TEST 276] echo $(echo 63)"
    "[TEST 277] echo $(( 63+63 ))"
    "[TEST 278] yes | head -n 1 | cat | grep y"
    "[TEST 279] echo 'weird ;;; && || && () $'"
    "[TEST 280] export VAR64=VAL64"
    "[TEST 281] echo $VAR64"
    "[TEST 282] unset VAR64"
    "[TEST 283] echo $(echo 64)"
    "[TEST 284] echo $(( 64+64 ))"
    "[TEST 285] yes | head -n 1 | cat | grep y"
    "[TEST 286] echo 'weird ;;; && || && () $'"
    "[TEST 287] export VAR65=VAL65"
    "[TEST 288] echo $VAR65"
    "[TEST 289] unset VAR65"
    "[TEST 290] echo $(echo 65)"
    "[TEST 291] echo $(( 65+65 ))"
    "[TEST 292] yes | head -n 1 | cat | grep y"
    "[TEST 293] echo 'weird ;;; && || && () $'"
    "[TEST 294] export VAR66=VAL66"
    "[TEST 295] echo $VAR66"
    "[TEST 296] unset VAR66"
    "[TEST 297] echo $(echo 66)"
    "[TEST 298] echo $(( 66+66 ))"
    "[TEST 299] yes | head -n 1 | cat | grep y"
    "[TEST 300] echo 'weird ;;; && || && () $'"
    "[TEST 301] export VAR67=VAL67"
    "[TEST 302] echo $VAR67"
    "[TEST 303] unset VAR67"
    "[TEST 304] echo $(echo 67)"
    "[TEST 305] echo $(( 67+67 ))"
    "[TEST 306] yes | head -n 1 | cat | grep y"
    "[TEST 307] echo 'weird ;;; && || && () $'"
    "[TEST 308] export VAR68=VAL68"
    "[TEST 309] echo $VAR68"
    "[TEST 310] unset VAR68"
    "[TEST 311] echo $(echo 68)"
    "[TEST 312] echo $(( 68+68 ))"
    "[TEST 313] yes | head -n 1 | cat | grep y"
    "[TEST 314] echo 'weird ;;; && || && () $'"
    "[TEST 315] export VAR69=VAL69"
    "[TEST 316] echo $VAR69"
    "[TEST 317] unset VAR69"
    "[TEST 318] echo $(echo 69)"
    "[TEST 319] echo $(( 69+69 ))"
    "[TEST 320] yes | head -n 1 | cat | grep y"
    "[TEST 321] echo 'weird ;;; && || && () $'"
    "[TEST 322] export VAR70=VAL70"
    "[TEST 323] echo $VAR70"
    "[TEST 324] unset VAR70"
    "[TEST 325] echo $(echo 70)"
    "[TEST 326] echo $(( 70+70 ))"
    "[TEST 327] yes | head -n 1 | cat | grep y"
    "[TEST 328] echo 'weird ;;; && || && () $'"
    "[TEST 329] export VAR71=VAL71"
    "[TEST 330] echo $VAR71"
    "[TEST 331] unset VAR71"
    "[TEST 332] echo $(echo 71)"
    "[TEST 333] echo $(( 71+71 ))"
    "[TEST 334] yes | head -n 1 | cat | grep y"
    "[TEST 335] echo 'weird ;;; && || && () $'"
    "[TEST 336] export VAR72=VAL72"
    "[TEST 337] echo $VAR72"
    "[TEST 338] unset VAR72"
    "[TEST 339] echo $(echo 72)"
    "[TEST 340] echo $(( 72+72 ))"
    "[TEST 341] yes | head -n 1 | cat | grep y"
    "[TEST 342] echo 'weird ;;; && || && () $'"
    "[TEST 343] export VAR73=VAL73"
    "[TEST 344] echo $VAR73"
    "[TEST 345] unset VAR73"
    "[TEST 346] echo $(echo 73)"
    "[TEST 347] echo $(( 73+73 ))"
    "[TEST 348] yes | head -n 1 | cat | grep y"
    "[TEST 349] echo 'weird ;;; && || && () $'"
    "[TEST 350] export VAR74=VAL74"
    "[TEST 351] echo $VAR74"
    "[TEST 352] unset VAR74"
    "[TEST 353] echo $(echo 74)"
    "[TEST 354] echo $(( 74+74 ))"
    "[TEST 355] yes | head -n 1 | cat | grep y"
    "[TEST 356] echo 'weird ;;; && || && () $'"
    "[TEST 357] export VAR75=VAL75"
    "[TEST 358] echo $VAR75"
    "[TEST 359] unset VAR75"
    "[TEST 360] echo $(echo 75)"
    "[TEST 361] echo $(( 75+75 ))"
    "[TEST 362] yes | head -n 1 | cat | grep y"
    "[TEST 363] echo 'weird ;;; && || && () $'"
    "[TEST 364] export VAR76=VAL76"
    "[TEST 365] echo $VAR76"
    "[TEST 366] unset VAR76"
    "[TEST 367] echo $(echo 76)"
    "[TEST 368] echo $(( 76+76 ))"
    "[TEST 369] yes | head -n 1 | cat | grep y"
    "[TEST 370] echo 'weird ;;; && || && () $'"
    "[TEST 371] export VAR77=VAL77"
    "[TEST 372] echo $VAR77"
    "[TEST 373] unset VAR77"
    "[TEST 374] echo $(echo 77)"
    "[TEST 375] echo $(( 77+77 ))"
    "[TEST 376] yes | head -n 1 | cat | grep y"
    "[TEST 377] echo 'weird ;;; && || && () $'"
    "[TEST 378] export VAR78=VAL78"
    "[TEST 379] echo $VAR78"
    "[TEST 380] unset VAR78"
    "[TEST 381] echo $(echo 78)"
    "[TEST 382] echo $(( 78+78 ))"
    "[TEST 383] yes | head -n 1 | cat | grep y"
    "[TEST 384] echo 'weird ;;; && || && () $'"
    "[TEST 385] export VAR79=VAL79"
    "[TEST 386] echo $VAR79"
    "[TEST 387] unset VAR79"
    "[TEST 388] echo $(echo 79)"
    "[TEST 389] echo $(( 79+79 ))"
    "[TEST 390] yes | head -n 1 | cat | grep y"
    "[TEST 391] echo 'weird ;;; && || && () $'"
    "[TEST 392] export VAR80=VAL80"
    "[TEST 393] echo $VAR80"
    "[TEST 394] unset VAR80"
    "[TEST 395] echo $(echo 80)"
    "[TEST 396] echo $(( 80+80 ))"
    "[TEST 397] yes | head -n 1 | cat | grep y"
    "[TEST 398] echo 'weird ;;; && || && () $'"
    "[TEST 399] export VAR81=VAL81"
    "[TEST 400] echo $VAR81"
    "[TEST 401] unset VAR81"
    "[TEST 402] echo $(echo 81)"
    "[TEST 403] echo $(( 81+81 ))"
    "[TEST 404] yes | head -n 1 | cat | grep y"
    "[TEST 405] echo 'weird ;;; && || && () $'"
    "[TEST 406] export VAR82=VAL82"
    "[TEST 407] echo $VAR82"
    "[TEST 408] unset VAR82"
    "[TEST 409] echo $(echo 82)"
    "[TEST 410] echo $(( 82+82 ))"
    "[TEST 411] yes | head -n 1 | cat | grep y"
    "[TEST 412] echo 'weird ;;; && || && () $'"
    "[TEST 413] export VAR83=VAL83"
    "[TEST 414] echo $VAR83"
    "[TEST 415] unset VAR83"
    "[TEST 416] echo $(echo 83)"
    "[TEST 417] echo $(( 83+83 ))"
    "[TEST 418] yes | head -n 1 | cat | grep y"
    "[TEST 419] echo 'weird ;;; && || && () $'"
    "[TEST 420] export VAR84=VAL84"
    "[TEST 421] echo $VAR84"
    "[TEST 422] unset VAR84"
    "[TEST 423] echo $(echo 84)"
    "[TEST 424] echo $(( 84+84 ))"
    "[TEST 425] yes | head -n 1 | cat | grep y"
    "[TEST 426] echo 'weird ;;; && || && () $'"
    "[TEST 427] export VAR85=VAL85"
    "[TEST 428] echo $VAR85"
    "[TEST 429] unset VAR85"
    "[TEST 430] echo $(echo 85)"
    "[TEST 431] echo $(( 85+85 ))"
    "[TEST 432] yes | head -n 1 | cat | grep y"
    "[TEST 433] echo 'weird ;;; && || && () $'"
    "[TEST 434] export VAR86=VAL86"
    "[TEST 435] echo $VAR86"
    "[TEST 436] unset VAR86"
    "[TEST 437] echo $(echo 86)"
    "[TEST 438] echo $(( 86+86 ))"
    "[TEST 439] yes | head -n 1 | cat | grep y"
    "[TEST 440] echo 'weird ;;; && || && () $'"
    "[TEST 441] export VAR87=VAL87"
    "[TEST 442] echo $VAR87"
    "[TEST 443] unset VAR87"
    "[TEST 444] echo $(echo 87)"
    "[TEST 445] echo $(( 87+87 ))"
    "[TEST 446] yes | head -n 1 | cat | grep y"
    "[TEST 447] echo 'weird ;;; && || && () $'"
    "[TEST 448] export VAR88=VAL88"
    "[TEST 449] echo $VAR88"
    "[TEST 450] unset VAR88"
    "[TEST 451] echo $(echo 88)"
    "[TEST 452] echo $(( 88+88 ))"
    "[TEST 453] yes | head -n 1 | cat | grep y"
    "[TEST 454] echo 'weird ;;; && || && () $'"
    "[TEST 455] export VAR89=VAL89"
    "[TEST 456] echo $VAR89"
    "[TEST 457] unset VAR89"
    "[TEST 458] echo $(echo 89)"
    "[TEST 459] echo $(( 89+89 ))"
    "[TEST 460] yes | head -n 1 | cat | grep y"
    "[TEST 461] echo 'weird ;;; && || && () $'"
    "[TEST 462] export VAR90=VAL90"
    "[TEST 463] echo $VAR90"
    "[TEST 464] unset VAR90"
    "[TEST 465] echo $(echo 90)"
    "[TEST 466] echo $(( 90+90 ))"
    "[TEST 467] yes | head -n 1 | cat | grep y"
    "[TEST 468] echo 'weird ;;; && || && () $'"
    "[TEST 469] export VAR91=VAL91"
    "[TEST 470] echo $VAR91"
    "[TEST 471] unset VAR91"
    "[TEST 472] echo $(echo 91)"
    "[TEST 473] echo $(( 91+91 ))"
    "[TEST 474] yes | head -n 1 | cat | grep y"
    "[TEST 475] echo 'weird ;;; && || && () $'"
    "[TEST 476] export VAR92=VAL92"
    "[TEST 477] echo $VAR92"
    "[TEST 478] unset VAR92"
    "[TEST 479] echo $(echo 92)"
    "[TEST 480] echo $(( 92+92 ))"
    "[TEST 481] yes | head -n 1 | cat | grep y"
    "[TEST 482] echo 'weird ;;; && || && () $'"
    "[TEST 483] export VAR93=VAL93"
    "[TEST 484] echo $VAR93"
    "[TEST 485] unset VAR93"
    "[TEST 486] echo $(echo 93)"
    "[TEST 487] echo $(( 93+93 ))"
    "[TEST 488] yes | head -n 1 | cat | grep y"
    "[TEST 489] echo 'weird ;;; && || && () $'"
    "[TEST 490] export VAR94=VAL94"
    "[TEST 491] echo $VAR94"
    "[TEST 492] unset VAR94"
    "[TEST 493] echo $(echo 94)"
    "[TEST 494] echo $(( 94+94 ))"
    "[TEST 495] yes | head -n 1 | cat | grep y"
    "[TEST 496] echo 'weird ;;; && || && () $'"
    "[TEST 497] export VAR95=VAL95"
    "[TEST 498] echo $VAR95"
    "[TEST 499] unset VAR95"
    "[TEST 500] echo $(echo 95)")


for test in "${tests[@]}"; do
    echo "$test"
    CMD="${test#*] }"  # Extrait la commande après le tag [TEST X]
    echo "$CMD" | $VALGRIND $MINISHELL > /dev/null 2> valgrind_output.txt
    if grep -q "definitely lost: 0 bytes" valgrind_output.txt; then
        echo "[NO LEAK] ✅"
    else
        echo "[LEAK] ❌"
        grep "definitely lost" valgrind_output.txt
    fi
    echo
done
